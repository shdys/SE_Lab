package 表达式计算;

import java.util.*;

public class PolynomialaArithmetic {

	public static void main(String[] args) {
		// TODO 自动生成的方法存根
		Scanner lalala = new Scanner(System.in);
		String Input ;
		int la=0;
		Expression a=new Expression();
		System.out.println("Welcome to the Polynomiala monitor.\nServer version: 1.0.9\nCopyright (c) 2016\nType '!h' for help. Type '!q' for exit.\n\n ");
		while(true){
			Input = lalala.nextLine();
			try{
			if(Input.length()>0&&Input.charAt(0)=='!')
			{
				if(Input.equals("!q"))
					break;
				else if (Input.equals("!h"))
					System.out.println("lalala");

				else if(Input.substring(0,4).equals("!d/d")||Input.substring(0,9).equals("!simplify"))
				{
					if(la==0)
						System.out.println("尚未输入任何表达式，无法执行命令。\n");
					else 
						a.Command(Input);
				}
			}
			else 
			{
				la=1;
				a.Set(Input);
				a.printout();
				System.out.print("\n");
			}
		}
			catch(Exception e)
			{
				System.out.println("命令无效重新输入。\n"+e);
			}
		}
		lalala.close();
	}
}
